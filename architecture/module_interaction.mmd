graph TB
    subgraph "UI Layer"
        NE[NodeEditor Component]
        WP[Workflow Panel]
        PP[Property Panel]
        TB[Toolbar]
        VM[Visual Monitor]
        LL[Log Display]
        ED[Error Display]
    end
    
    subgraph "State Management"
        WS[Workflow Store]
        NS[Node Editor Store]
        US[UI Store]
        LS[Log Store]
    end
    
    subgraph "Services"
        WFS[Workflow Service]
        NSV[Node Service]
        ACS[Auto-Clicker Service]
        SCS[Screen Capture Service]
        OCRS[OCR Service]
        LOGS[Logging Service]
    end
    
    subgraph "Core Engine"
        WE[Workflow Engine]
        ACE[Auto-Clicker Engine]
        SC[Screen Capture]
        OCR[OCR Engine]
        MC[Mouse Control]
        LOG[Log Broadcaster]
    end
    
    subgraph "External Tools"
        ACT[Auto-Clicker Tool]
        ACSA[Auto-Clicker Standalone]
    end
    
    %% UI Component Interactions
    NE --> WS
    NE --> NS
    NE --> WP
    NE --> PP
    NE --> TB
    NE --> VM
    NE --> LL
    NE --> ED
    
    %% State Management
    WS --> WFS
    NS --> NSV
    US --> VM
    LS --> LL
    
    %% Service Layer
    WFS --> WE
    NSV --> WE
    ACS --> ACE
    SCS --> SC
    OCRS --> OCR
    LOGS --> LOG
    
    %% Core Engine Integration
    SC --> OCR
    OCR --> MC
    ACE --> SC
    ACE --> MC
    
    %% External Integration
    ACE --> ACT
    ACE --> ACSA
    
    %% Real-time Updates
    WE -.->|Workflow Events| WS
    ACE -.->|Auto-Clicker Events| US
    LOG -.->|Log Stream| LS
    SC -.->|Screen Updates| VM
    
    %% User Interactions
    User[User] --> NE
    User --> TB
    User --> PP
    User --> VM
    
    %% Error Flow
    WE -.->|Workflow Errors| ED
    ACE -.->|Auto-Clicker Errors| ED
    SC -.->|Capture Errors| ED
    OCR -.->|OCR Errors| ED
    
    classDef uiLayer fill:#e1f5fe
    classDef stateLayer fill:#f3e5f5
    classDef serviceLayer fill:#e8f5e8
    classDef coreLayer fill:#fff3e0
    classDef externalLayer fill:#fce4ec
    
    class NE,WP,PP,TB,VM,LL,ED uiLayer
    class WS,NS,US,LS stateLayer
    class WFS,NSV,ACS,SCS,OCRS,LOGS serviceLayer
    class WE,ACE,SC,OCR,MC,LOG coreLayer
    class ACT,ACSA externalLayer
